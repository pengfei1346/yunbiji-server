webpackJsonp([1],{"+Jh9":function(t,e,a){t.exports=a.p+"static/img/63d0f703918fa0ece5f167da2a9759ee3d6ddb37.a022c09.jpg"},"3j9K":function(t,e){},"4qOc":function(t,e){},"8ebF":function(t,e){},Dg89:function(t,e){},Lzjm:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(t){a("UH0+")},null,null).exports,o=a("/ocq"),r=a("mtWM"),l=a.n(r),d={name:"Header",data:function(){return{}},methods:{handleWrite:function(){var t=this;this.$axios.get("/getMsg").then(function(e){200==e.data.code?t.$router.push("/write"):alert("请先登录")})}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("div",{staticClass:"small"},[e("router-link",{attrs:{to:"/"}},[e("div",{staticClass:"left"},[this._v("云笔记")])]),this._v(" "),e("div",{staticClass:"right"},[e("router-link",{attrs:{to:"/seach"}},[e("i",{staticClass:"iconfont el-icon-search"})]),this._v(" "),e("button",{staticClass:"ipt",on:{click:this.handleWrite}},[this._v("写笔记")])],1)],1)])},staticRenderFns:[]};var u=a("VU/8")(d,c,!1,function(t){a("xWF/")},"data-v-4691083c",null).exports,p=a("lbHh"),v=a.n(p),m={name:"index",components:{Header:u},data:function(){return{loginEmail:"",loginPassword:"",usermsg:{username:"",email:""},noteList:[]}},methods:{keyup:function(){13==event.keyCode&&this.handleLogin()},getList:function(){var t=this;this.$axios.get("/note/list").then(function(e){t.noteList=e.data.data})},handleLogin:function(){var t=this,e=this.loginEmail,a=this.loginPassword;-1==e.indexOf(" ")||-1==a.indexOf(" ")?this.$axios.post("/login",{email:e,password:a}).then(function(e){200==e.data.code?(v.a.set("username",e.data.data.username,{expires:14}),v.a.set("email",e.data.data.email,{expires:14}),v.a.set("header",e.data.data.userHeader,{expires:14}),alert("登录成功"),t.whetherShow()):alert(e.data.msg)}):alert("请输入正确的邮箱格式")},handleExit:function(){var t=this,e=this.usermsg;e.username,e.email;this.$axios.get("/exit").then(function(e){v.a.remove("username"),v.a.remove("email"),t.whetherShow()})},whetherShow:function(){var t=v.a.get("username"),e=v.a.get("email"),a=v.a.get("header");t&&e?(this.usermsg.username=t,this.usermsg.email=e,this.usermsg.header=a):(this.usermsg.username="",this.usermsg.email="",this.usermsg.header="")}},created:function(){this.getList(),this.whetherShow()}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"left"},[n("div",{staticClass:"swipe"},[n("el-carousel",{attrs:{trigger:"click",height:"350px","indicator-position":"none"}},[n("el-carousel-item",[n("img",{attrs:{src:a("+Jh9")}})]),t._v(" "),n("el-carousel-item",[n("img",{attrs:{src:a("NRrw")}})])],1)],1),t._v(" "),t._l(t.noteList,function(e){return n("div",{key:e.index,staticClass:"news"},[n("router-link",{attrs:{to:"/detail?id="+e._id}},[n("div",{staticClass:"new-top"},[n("div",{staticClass:"detail-left"},[n("img",{staticStyle:{height:"80px",width:"80px"},attrs:{src:a("+Jh9")}})]),t._v(" "),n("div",{staticClass:"detail-right"},[n("div",{staticClass:"biJi"},[n("span",{attrs:{type:""}},[t._v(t._s(e.username))]),t._v(" "),n("span",[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"liuLan"},[n("span",[t._v("浏览:"+t._s(e.browse))]),t._v(" "),n("span",[t._v("回复:"+t._s(e.reply))]),t._v(" "),n("span",[t._v("分类:"+t._s(e.classify))])])])]),t._v(" "),n("div",{staticClass:"new-bottom",domProps:{innerHTML:t._s(e.note)}})])],1)})],2),t._v(" "),t.usermsg.username?n("div",{staticClass:"show"},[n("img",{attrs:{src:t.usermsg.userHeader}}),t._v(" "),n("div",[t._v(t._s(t.usermsg.username))]),t._v(" "),n("div",[t._v(t._s(t.usermsg.email))]),t._v(" "),n("button",{on:{click:t.handleExit}},[t._v("退出登录")])]):n("div",{staticClass:"right"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginEmail,expression:"loginEmail"}],attrs:{type:"text",placeholder:"邮箱"},domProps:{value:t.loginEmail},on:{input:function(e){e.target.composing||(t.loginEmail=e.target.value)}}})]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginPassword,expression:"loginPassword"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.loginPassword},on:{keyup:t.keyup,input:function(e){e.target.composing||(t.loginPassword=e.target.value)}}})]),t._v(" "),n("div",[n("button",{staticClass:"btn1",on:{click:t.handleLogin}},[t._v("登录")])]),t._v(" "),n("router-link",{attrs:{to:"/register"}},[n("button",{staticClass:"btn2"},[t._v("注册")])]),t._v(" "),n("div",{attrs:{type:"one"}},[t._v("this note is smpkkkm")]),t._v(" "),n("div",{attrs:{type:"two"}},[t._v("i他萨达萨达撒旦")])],1)])],1)},staticRenderFns:[]};var g=a("VU/8")(m,h,!1,function(t){a("fhrm")},"data-v-d9a85714",null).exports,f={name:"seach",components:{Header:u},data:function(){return{noteList:[],seekTitle:"",userStatus:{},replyContent:""}},methods:{getList:function(){var t=this;this.$axios.get("/note/list").then(function(e){t.noteList=e.data.data})},handleSeek:function(){var t=this,e=this.seekTitle;0!==e.length?this.$axios.post("/note/seek",{title:e}).then(function(e){console.log(e.data),t.noteList=e.data.data}):alert("搜索内容不能为空")},getUser:function(){var t=this;this.$axios.get("/getMsg").then(function(e){t.userStatus=e.data.data})}},mounted:function(){this.getList(),this.getUser()}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),t._v(" "),n("div",{staticClass:"head"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.seekTitle,expression:"seekTitle"}],attrs:{type:"text"},domProps:{value:t.seekTitle},on:{input:function(e){e.target.composing||(t.seekTitle=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.handleSeek}},[t._v("搜索")])]),t._v(" "),t._l(t.noteList,function(e){return n("div",{key:e.index,staticClass:"news"},[n("router-link",{attrs:{to:"/detail?id="+e._id}},[n("div",{staticClass:"new-top"},[n("div",{staticClass:"detail-left"},[n("img",{staticStyle:{height:"80px",width:"80px"},attrs:{src:a("+Jh9")}})]),t._v(" "),n("div",{staticClass:"detail-right"},[n("div",{staticClass:"biJi"},[n("span",{attrs:{type:""}},[t._v(t._s(e.username))]),t._v(" "),n("span",[t._v(t._s(e.title))])]),t._v(" "),n("div",{staticClass:"liuLan"},[n("span",[t._v("浏览:"+t._s(e.browse))]),t._v(" "),n("span",[t._v("回复:"+t._s(e.reply))]),t._v(" "),n("span",[t._v("分类:"+t._s(e.classify)+"\n            ")])])])]),t._v(" "),n("div",{staticClass:"new-bottom"},[n("div",{staticClass:"flow",domProps:{textContent:t._s(e.noteText)}})])])],1)})],2)},staticRenderFns:[]};var x=a("VU/8")(f,_,!1,function(t){a("pcow")},"data-v-434598f4",null).exports,C={name:"detail",components:{Header:u},data:function(){return{noteList:[],noteDetail:"",userStatus:{},replyData:[],replyContent:"",estimate:""}},methods:{getDetail:function(){var t=this,e=this.$route.query.id;this.$axios.post("/note/detail",{_id:e}).then(function(e){t.noteDetail=e.data.data,t.replyData=e.data.rda})},handleReply:function(){var t=this;if(200==this.estimate)if(""==!this.replyContent){var e=this.replyContent,a=this.userStatus.userId,n=this.$route.query.id;this.$axios.post("/note/reply",{replyContent:e,userId:a,noteId:n}).then(function(e){t.replyContent="",t.getDetail()})}else alert("回复内容不能为空");else alert("请先登录")},getUser:function(){var t=this;this.$axios.get("/getMsg").then(function(e){t.estimate=e.data.code,t.userStatus=e.data.data})}},created:function(){this.getDetail(),this.getUser()}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all"},[a("Header"),t._v(" "),a("div",{staticClass:"item"},[a("h1",{domProps:{innerHTML:t._s(t.noteDetail.title)}},[t._v("{{}}")]),t._v(" "),a("h2",[t._v(" 作者 "+t._s(t.noteDetail.username))]),t._v(" "),a("div",{staticClass:"detail"},[a("p",{domProps:{innerHTML:t._s(t.noteDetail.note)}})])]),t._v(" "),a("div",{attrs:{id:"reply-all"}},[a("h3",[t._v("回复:")]),t._v(" "),t._l(t.replyData,function(e){return a("div",{key:e.index,attrs:{id:"reply"}},[a("p",[t._v(t._s(e.username)+" :")]),t._v(" "),a("p",{attrs:{type:""}},[t._v(t._s(e.replyContent))])])})],2),t._v(" "),a("div",{staticClass:"reply"},[a("button",{on:{click:t.handleReply}},[t._v("回复")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.replyContent,expression:"replyContent"}],attrs:{type:"text"},domProps:{value:t.replyContent},on:{input:function(e){e.target.composing||(t.replyContent=e.target.value)}}})])],1)},staticRenderFns:[]};var y=a("VU/8")(C,w,!1,function(t){a("Dg89")},"data-v-b12f3646",null).exports,b=(a("4qOc"),a("G0J2")),k=(a("GH0r"),{name:"write",components:{Header:u,quillEditor:b.quillEditor},data:function(){return{notes:{title:"",note:"",noteText:""},content:"",selectLabel:[],lables:["html","css","h5","js","es6","ajax","vue.js","jquery.js","react.js","require.js","ui","anlmate"]}},methods:{handlePut:function(){var t=this,e=this.notes.title,a=this.notes.note,n=this.notes.noteText.substring(0,200),s=this.selectLabel;e&&a?this.$axios.post("/note/addNote",{title:e,note:a,noteText:n,classify:s}).then(function(e){200==e.data.code?(alert("发布成功"),t.$router.push("/index"),t.notes.title="",t.notes.note=""):400==e.data.code&&alert("发布失败")}):""==e?alert("输入标题不能为空"):""==a&&alert("输入内容不能为空")},handleChange:function(t){t.quill,t.html;var e=t.text;this.notes.noteText=e}}}),$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),t._v(" "),a("div",{staticClass:"form"},[a("h2",[t._v("标题")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.notes.title,expression:"notes.title"}],attrs:{type:"text"},domProps:{value:t.notes.title},on:{input:function(e){e.target.composing||t.$set(t.notes,"title",e.target.value)}}}),t._v(" "),a("h2",[t._v("内容")]),t._v(" "),a("div",{staticClass:"editor"},[a("quill-editor",{ref:"myQuillEditor",on:{change:t.handleChange},model:{value:t.notes.note,callback:function(e){t.$set(t.notes,"note",e)},expression:"notes.note"}})],1),t._v(" "),a("div",{attrs:{id:"label"}},[t._v("\n      标签\n      "),a("el-checkbox-group",{staticClass:"fll",attrs:{size:"small"},model:{value:t.selectLabel,callback:function(e){t.selectLabel=e},expression:"selectLabel"}},t._l(t.lables,function(e){return a("el-checkbox-button",{key:e.index,attrs:{label:e}},[t._v("\n          "+t._s(e)+"\n        ")])}))],1),t._v(" "),a("button",{on:{click:t.handlePut}},[t._v("发布")])])],1)},staticRenderFns:[]};var L=a("VU/8")(k,$,!1,function(t){a("fpah"),a("8ebF")},"data-v-6efb8532",null).exports,P={name:"ajaxup",data:function(){return{token:"",img:""}},methods:{up:function(t){var e=this;console.log(t);var a=t.target.files[0],n=new FormData;n.append("file",a),n.append("token",this.token),l.a.post("https://upload-z1.qiniup.com",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t),e.img=t.data.url})},getToken:function(){var t=this;l.a.get(" http://up.yaojunrong.com/getToken").then(function(e){t.token=e.data.data})}},created:function(){this.getToken()}},E={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("input",{attrs:{type:"file",accept:"image/jpeg,image/png,iamge/gif"},on:{change:this.up}}),this._v(" "),this.img?e("img",{attrs:{src:this.img}}):this._e()])},staticRenderFns:[]};var H=a("VU/8")(P,E,!1,function(t){a("Lzjm")},"data-v-00dd9aaa",null).exports,R={name:"register",components:{Header:u,putImg:H},data:function(){return{email:"",username:"",password:"",img:""}},methods:{keyup:function(){13==event.keyCode&&this.handleRegister()},handleRegister:function(){var t=this,e=this.email,a=this.username,n=this.password;this.$axios.post("/api/register",{email:e,username:a,password:n}).then(function(e){200==e.data.code?(alert("注册成功"),t.$router.push("/index")):alert("注册失败")})},handlePut:function(t){var e=this,a=t.target.files[0],n=new FormData;n.append("pic",a),this.$axios.post("/putImg",n,{headers:{"content-type":"multipart/form-data"}}).then(function(t){e.img="/api/"+t.data.data})}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"big"},[a("Header"),t._v(" "),a("div",{staticClass:"item"},[a("label",{staticClass:"put-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.img,expression:"!img"}],attrs:{id:"add"}},[t._v("+")]),t._v(" "),t.img?a("img",{attrs:{src:t.img}}):t._e(),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.handlePut(e)}}})]),t._v(" "),a("div",{staticClass:"right"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"邮箱"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{keyup:t.keyup,input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),a("div",[a("button",{staticClass:"btn2",on:{click:t.handleRegister}},[t._v("注册")])])])])],1)},staticRenderFns:[]};var S=a("VU/8")(R,T,!1,function(t){a("v2gI")},"data-v-62f9ce42",null).exports,j=a("sYY+"),F=a.n(j),N={name:"test1",props:{inputContent:String,required:!0},data:function(){return{editorContent:""}},methods:{getContent:function(){this.$emit("content",this.editorContent)}},mounted:function(){var t=this,e=new F.a("#editorElem");e.customConfig.menus=["head","fontSize","fontName","underline","image","undo","redo"],e.customConfig.onchange=function(e){t.editorContent=e},e.create()},watch:{editorContent:function(){this.getContent()}}},U={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"editor"},[e("div",{staticStyle:{"text-align":"left"},attrs:{id:"editorElem"}})])}]};var D=a("VU/8")(N,U,!1,function(t){a("3j9K")},"data-v-057185ae",null).exports,q={name:"putImg",data:function(){return{img:""}},methods:{handlePut:function(t){var e=this,a=t.target.files[0],n=new FormData;n.append("pic",a),this.$axios.post("/putImg",n,{headers:{"content-type":"multipart/form-data"}}).then(function(t){console.log(t),e.img="/api/"+t.data.data})}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"put"},[a("label",{staticClass:"put-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.img,expression:"!img"}],attrs:{id:"add"}},[t._v("+")]),t._v(" "),t.img?a("img",{attrs:{src:t.img}}):t._e(),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.handlePut(e)}}})])])},staticRenderFns:[]};var V=a("VU/8")(q,I,!1,function(t){a("Ygs1")},"data-v-5ba62cbc",null).exports;n.default.use(o.a);var J=new o.a({routes:[{path:"/",redirect:"/index"},{path:"/index",component:g},{path:"/seach",component:x},{path:"/detail",component:y},{path:"/write",component:L},{path:"/Header",component:u},{path:"/register",component:S},{path:"/editor",component:D},{path:"/ajaxup",component:H},{path:"/putImg",component:V}]}),M=(a("d8/S"),a("Au9i")),z=a.n(M),W=a("zL8q"),O=a.n(W),A=(a("tvR6"),l.a.create({baseURL:"/"}));n.default.prototype.$axios=A,n.default.use(z.a),n.default.use(O.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:J,components:{App:i},template:"<App/>"})},NRrw:function(t,e,a){t.exports=a.p+"static/img/019f4e57207bc432f875a3990cbb6b.PNG@1280w_1l_2o_100sh.e771957.png"},"UH0+":function(t,e){},Ygs1:function(t,e){},"d8/S":function(t,e){},fhrm:function(t,e){},fpah:function(t,e){},pcow:function(t,e){},tvR6:function(t,e){},v2gI:function(t,e){},"xWF/":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b9996c99286f872e35ac.js.map